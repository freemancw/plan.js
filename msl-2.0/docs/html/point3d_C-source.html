<HEAD>
<TITLE>Motion Strategy Library</TITLE>
</HEAD>

<body bgcolor="#ffffff">

<center><img src="msl.jpg"></center>

<p>


<!-- Generated by Doxygen 1.2.2 on Wed Aug 29 23:26:44 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>point3d.C</h1><a href="point3d_C.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="preprocessor">#include &lt;math.h&gt;</font>
00002 <font class="preprocessor">#include &lt;ctype.h&gt;</font>
00003 <font class="preprocessor">#include "<a class="code" href="point3d_h.html">point3d.h</a>"</font>
00004 
<a name="l00005"></a><a class="code" href="point3d_C.html#a0">00005</a> ostream&amp; operator&lt;&lt;(ostream&amp; out, const list&lt;MSLPoint3d&gt;&amp; L)
00006 {
00007   list&lt;MSLPoint3d&gt;::iterator x; 
00008   list&lt;MSLPoint3d&gt; vl;
00009   vl = L;
00010   <font class="keywordflow">for</font> (x = vl.begin(); x != vl.end(); x++) 
00011     out &lt;&lt; <font class="stringliteral">" "</font> &lt;&lt; *x;
00012   <font class="keywordflow">return</font> out;
00013 }
00014 
00015 
<a name="l00016"></a><a class="code" href="point3d_C.html#a1">00016</a> istream&amp; <a class="code" href="vector_C.html#a6">operator&gt;&gt;</a>(istream&amp; in, list&lt;MSLPoint3d&gt;&amp; L)<font class="keyword">
</font>00017 <font class="keyword"></font>{ 
00018   L.clear();
00019   <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a> x;
00020   <font class="keywordflow">for</font>(;;)
00021     { 
00022       <font class="keywordtype">char</font> c;
00023       <font class="keywordflow">while</font> (in.get(c) &amp;&amp; isspace(c));
00024       <font class="keywordflow">if</font> (!in) <font class="keywordflow">break</font>;
00025       in.putback(c);
00026       x = MSLPoint3d(); in &gt;&gt; x; L.push_back(x);
00027     }
00028   <font class="keywordflow">return</font> in;
00029 }
00030 
00031 
00032 <font class="keyword">static</font> <font class="keywordtype">void</font> error_handler(<font class="keywordtype">int</font> i, <font class="keyword">const</font> <font class="keywordtype">char</font>* s)<font class="keyword"> </font>{
00033   cerr &lt;&lt; s &lt;&lt; <font class="stringliteral">"\n"</font>;
00034   exit(i);
00035 }
00036 
00037 
<a name="l00038"></a><a class="code" href="class_MSLPoint3d.html#a0">00038</a> <a class="code" href="class_MSLPoint3d.html#a0">MSLPoint3d::MSLPoint3d</a>()<font class="keyword"> </font>{ xrep = 0; yrep = 0; zrep=0; }
00039 
<a name="l00040"></a><a class="code" href="class_MSLPoint3d.html#a1">00040</a> <a class="code" href="class_MSLPoint3d.html#a0">MSLPoint3d::MSLPoint3d</a>(<font class="keywordtype">double</font> x, <font class="keywordtype">double</font> y, <font class="keywordtype">double</font> z)<font class="keyword"> 
</font>00041 <font class="keyword"></font>{ xrep = x; yrep = y; zrep=z; }
00042 
00043 
00044 <font class="comment">// Translations</font>
00045 
<a name="l00046"></a><a class="code" href="class_MSLPoint3d.html#a14">00046</a> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a> <a class="code" href="class_MSLPoint3d.html#a14">MSLPoint3d::translate</a>(<font class="keywordtype">double</font> dx, <font class="keywordtype">double</font> dy, <font class="keywordtype">double</font> dz)<font class="keyword"> const
</font>00047 <font class="keyword"></font>{ <font class="keywordflow">return</font> <a class="code" href="class_MSLPoint3d.html#a0">MSLPoint3d</a>(<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>()+dx,<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>()+dy,<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>()+dz); }
00048 
00049 
00050 
00051 <font class="comment">// Distances</font>
00052 
<a name="l00053"></a><a class="code" href="class_MSLPoint3d.html#a9">00053</a> <font class="keywordtype">double</font> <a class="code" href="class_MSLPoint3d.html#a9">MSLPoint3d::sqr_dist</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; p)  <font class="keyword">const</font>
00054 { <font class="keywordtype">double</font> dx = p.xcoord() - xrep; 
00055   <font class="keywordtype">double</font> dy = p.ycoord() - yrep;
00056   <font class="keywordtype">double</font> dz = p.zcoord() - zrep;
00057   <font class="keywordflow">return</font> dx*dx + dy*dy + dz*dz;
00058  }
00059 
<a name="l00060"></a><a class="code" href="class_MSLPoint3d.html#a10">00060</a> <font class="keywordtype">double</font> <a class="code" href="class_MSLPoint3d.html#a10">MSLPoint3d::xdist</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; q)<font class="keyword"> const 
</font>00061 <font class="keyword"></font>{ <font class="keywordflow">return</font> fabs(xrep - q.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>()); }
00062 
<a name="l00063"></a><a class="code" href="class_MSLPoint3d.html#a11">00063</a> <font class="keywordtype">double</font> <a class="code" href="class_MSLPoint3d.html#a11">MSLPoint3d::ydist</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; q)<font class="keyword"> const 
</font>00064 <font class="keyword"></font>{ <font class="keywordflow">return</font> fabs(yrep - q.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>()); }
00065 
<a name="l00066"></a><a class="code" href="class_MSLPoint3d.html#a12">00066</a> <font class="keywordtype">double</font> <a class="code" href="class_MSLPoint3d.html#a12">MSLPoint3d::zdist</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; q)<font class="keyword"> const 
</font>00067 <font class="keyword"></font>{ <font class="keywordflow">return</font> fabs(zrep - q.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>()); }
00068 
00069 
<a name="l00070"></a><a class="code" href="class_MSLPoint3d.html#a16">00070</a> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a> <a class="code" href="class_MSLPoint3d.html#a15">MSLPoint3d::reflect</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; q)<font class="keyword"> const
</font>00071 <font class="keyword"></font>{ <font class="comment">// reflect point across point q</font>
00072   <font class="keywordflow">return</font> <a class="code" href="class_MSLPoint3d.html#a0">MSLPoint3d</a>(2*q.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>()-<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>(), 2*q.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>()-<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>(),
00073                                          2*q.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>()-<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>());
00074  }
00075 
00076 
<a name="l00077"></a><a class="code" href="class_MSLPoint3d.html#a15">00077</a> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>  <a class="code" href="class_MSLPoint3d.html#a15">MSLPoint3d::reflect</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; a, <font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; b,
00078                                                <font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; c)<font class="keyword"> const
</font>00079 <font class="keyword"></font>{  
00080   <font class="comment">// reflect point across plane through a, b, and c</font>
00081 
00082   <font class="keywordtype">double</font> x1 = b.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>();
00083   <font class="keywordtype">double</font> y1 = b.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>();
00084   <font class="keywordtype">double</font> z1 = b.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>();
00085 
00086   <font class="keywordtype">double</font> x2 = c.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>();
00087   <font class="keywordtype">double</font> y2 = c.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>();
00088   <font class="keywordtype">double</font> z2 = c.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>();
00089 
00090   <font class="keywordtype">double</font> x3 = <a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>();
00091   <font class="keywordtype">double</font> y3 = <a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>();
00092   <font class="keywordtype">double</font> z3 = <a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>() - a.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>();
00093 
00094   <font class="keywordtype">double</font> x = (z1*y2-y1*z2);
00095   <font class="keywordtype">double</font> y = (x1*z2-z1*x2);
00096   <font class="keywordtype">double</font> z = (y1*x2-x1*y2);
00097 
00098   <font class="keywordflow">if</font> (x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0)
00099       error_handler(1,<font class="stringliteral">"MSLPoint3d::reflect(a,b,c): a,b,c are coplanar"</font>);
00100 
00101 
00102   <font class="keywordtype">double</font> f = -2*(x*x3+y*y3+z*z3)/(x*x+y*y+z*z);
00103 
00104   <font class="keywordflow">return</font> <a class="code" href="class_MSLPoint3d.html#a14">translate</a>(f*x,f*y,f*z);
00105 }
00106 
00107   
00108 
00109 
<a name="l00110"></a><a class="code" href="class_MSLPoint3d.html#a13">00110</a> <font class="keywordtype">double</font>  <a class="code" href="class_MSLPoint3d.html#a13">MSLPoint3d::distance</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; q)<font class="keyword"> const 
</font>00111 <font class="keyword"></font>{ <font class="keywordflow">return</font> sqrt(<a class="code" href="class_MSLPoint3d.html#a9">sqr_dist</a>(q)); }
00112 
00113 
<a name="l00114"></a><a class="code" href="class_MSLPoint3d.html#a17">00114</a> <font class="keywordtype">bool</font> <a class="code" href="class_MSLPoint3d.html#a17">MSLPoint3d::operator==</a>(<font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; p)<font class="keyword"> const 
</font>00115 <font class="keyword"></font>{ <font class="keywordflow">return</font> xrep == p.xrep &amp;&amp; 
00116          yrep == p.yrep &amp;&amp; 
00117          zrep == p.zrep; 
00118 }
00119 
00120 
00121 
<a name="l00122"></a><a class="code" href="point3d_C.html#a3">00122</a> ostream&amp; <a class="code" href="vector_C.html#a5">operator&lt;&lt;</a>(ostream&amp; out, <font class="keyword">const</font> <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; p)<font class="keyword">
</font>00123 <font class="keyword"></font>{ out &lt;&lt; <font class="stringliteral">"("</font> &lt;&lt; p.<a class="code" href="class_MSLPoint3d.html#a3">xcoord</a>() &lt;&lt; <font class="stringliteral">","</font> &lt;&lt; p.<a class="code" href="class_MSLPoint3d.html#a4">ycoord</a>() &lt;&lt; <font class="stringliteral">","</font> &lt;&lt; p.<a class="code" href="class_MSLPoint3d.html#a5">zcoord</a>() &lt;&lt; <font class="stringliteral">")"</font>;
00124   <font class="keywordflow">return</font> out;
00125  } 
00126 
<a name="l00127"></a><a class="code" href="point3d_C.html#a4">00127</a> istream&amp; <a class="code" href="vector_C.html#a6">operator&gt;&gt;</a>(istream&amp; in, <a class="code" href="class_MSLPoint3d.html">MSLPoint3d</a>&amp; p)<font class="keyword"> 
</font>00128 <font class="keyword"></font>{ <font class="comment">// syntax: {(} x {,} y {,} z{)}</font>
00129 
00130   <font class="keywordtype">double</font> x,y,z; 
00131   <font class="keywordtype">char</font> c;
00132 
00133   <font class="keywordflow">do</font> in.get(c); <font class="keywordflow">while</font> (in &amp;&amp; isspace(c));
00134 
00135   <font class="keywordflow">if</font> (!in) <font class="keywordflow">return</font> in;
00136 
00137   <font class="keywordflow">if</font> (c != <font class="charliteral">'('</font>) in.putback(c);
00138 
00139   in &gt;&gt; x;
00140 
00141   <font class="keywordflow">do</font> in.get(c); <font class="keywordflow">while</font> (isspace(c));
00142   <font class="keywordflow">if</font> (c != <font class="charliteral">','</font>) in.putback(c);
00143 
00144   in &gt;&gt; y; 
00145 
00146   <font class="keywordflow">do</font> in.get(c); <font class="keywordflow">while</font> (isspace(c));
00147   <font class="keywordflow">if</font> (c != <font class="charliteral">','</font>) in.putback(c);
00148 
00149   in &gt;&gt; z; 
00150 
00151   <font class="keywordflow">do</font> in.get(c); <font class="keywordflow">while</font> (c == <font class="charliteral">' '</font>);
00152   <font class="keywordflow">if</font> (c != <font class="charliteral">')'</font>) in.putback(c);
00153 
00154   p = MSLPoint3d(x,y,z); 
00155   <font class="keywordflow">return</font> in; 
00156 
00157  } 
00158 
</div></pre><HEAD>
<TITLE>Motion Strategy Library</TITLE>
</HEAD>

<p>

<hr>

Web page maintained by 
<a href="http://janowiec.cs.iastate.edu/~lavalle">Steve LaValle</a><br>

Partial support provided by NSF CAREER Award IRI-970228 (LaValle),
Honda Research, and Iowa State University.<br>

Contributors:  Anna Atramentov, Peng Cheng, James Kuffner, Steve LaValle, and Libo Yang.<br>
