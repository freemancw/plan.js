<HEAD>
<TITLE>Motion Strategy Library</TITLE>
</HEAD>

<body bgcolor="#ffffff">

<center><img src="msl.jpg"></center>

<p>


<!-- Generated by Doxygen 1.2.2 on Wed Aug 29 23:26:43 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>marray.C</h1><a href="marray_C.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">//----------------------------------------------------------------------</font>
00002 <font class="comment">//               The Motion Strategy Library (MSL)</font>
00003 <font class="comment">//----------------------------------------------------------------------</font>
00004 <font class="comment">//</font>
00005 <font class="comment">// Copyright (c) 1998-2000 Iowa State University and Steve LaValle.  </font>
00006 <font class="comment">// All Rights Reserved.</font>
00007 <font class="comment">// </font>
00008 <font class="comment">// Permission to use, copy, and distribute this software and its </font>
00009 <font class="comment">// documentation is hereby granted free of charge, provided that </font>
00010 <font class="comment">// (1) it is not a component of a commercial product, and </font>
00011 <font class="comment">// (2) this notice appears in all copies of the software and</font>
00012 <font class="comment">//     related documentation. </font>
00013 <font class="comment">// </font>
00014 <font class="comment">// Iowa State University and the author make no representations</font>
00015 <font class="comment">// about the suitability or fitness of this software for any purpose.  </font>
00016 <font class="comment">// It is provided "as is" without express or implied warranty.</font>
00017 <font class="comment">//----------------------------------------------------------------------</font>
00018 
00019 <font class="preprocessor">#include "<a class="code" href="marray_h.html">marray.h</a>"</font>
00020 
00021 
<a name="l00022"></a><a class="code" href="class_MultiArray.html#a0">00022</a> template&lt;class E&gt; <a class="code" href="class_MultiArray.html#a2">MultiArray&lt;E&gt;::MultiArray</a>(<font class="keyword">const</font> vector&lt;int&gt; &amp;dims, 
00023                                             <font class="keyword">const</font> E &amp;x)<font class="keyword"> </font>{
00024   <font class="keywordtype">int</font> i,offset;
00025 
00026   MaxSize = 10000000; <font class="comment">// Maximum allowable size</font>
00027   Dimensions = dims;
00028   Dimension = dims.size();
00029   
00030   Offsets = vector&lt;int&gt;(Dimension);
00031 
00032   offset = 1;
00033   <font class="keywordflow">for</font> (i = 0; i &lt; Dimension; i++) {
00034     Offsets[i] = offset;
00035     offset *= Dimensions[i];
00036   }
00037 
00038   Size = offset;
00039 
00040   <font class="keywordflow">if</font> (Size &lt;= MaxSize) {
00041     <font class="comment">// Make the array to hold all of the data</font>
00042     A = vector&lt;E&gt;(Size);
00043     <font class="keywordflow">for</font> (i = 0; i &lt; Size; i++)
00044       A[i] = x; <font class="comment">// Write the value x to all elements</font>
00045   }
00046   <font class="keywordflow">else</font> {
00047     cout &lt;&lt; <font class="stringliteral">"Size "</font> &lt;&lt; Size &lt;&lt; <font class="stringliteral">" exceeds MaxSize limit "</font> &lt;&lt; MaxSize &lt;&lt; <font class="stringliteral">"\n"</font>;
00048     exit(-1);
00049   }
00050 
00051 }
00052 
00053 
<a name="l00054"></a><a class="code" href="class_MultiArray.html#a1">00054</a> template&lt;class E&gt; <a class="code" href="class_MultiArray.html#a2">MultiArray&lt;E&gt;::MultiArray</a>(<font class="keyword">const</font> vector&lt;int&gt; &amp;dims)<font class="keyword"> </font>{
00055   E x;
00056 
00057   <a class="code" href="class_MultiArray.html#a2">MultiArray</a>(dims,x);
00058 }
00059 
00060 
<a name="l00061"></a><a class="code" href="class_MultiArray.html#a4">00061</a> template&lt;class E&gt; <font class="keyword">inline</font> E&amp; <a class="code" href="class_MultiArray.html#a4">MultiArray&lt;E&gt;::operator[]</a>(<font class="keyword">const</font> vector&lt;int&gt; 
00062                                                       &amp;indices)<font class="keyword"> </font>{
00063   <font class="keywordtype">int</font> i,index;
00064 
00065   index = indices[0];
00066 
00067   <font class="keywordflow">for</font> (i = 1; i &lt; Dimension; i++) {
00068     index += indices[i]*Offsets[i];
00069   }
00070 
00071   <font class="keywordflow">return</font> A[index];
00072 }
00073 
00074 
<a name="l00075"></a><a class="code" href="class_MultiArray.html#a5">00075</a> template&lt;class E&gt; <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="class_MultiArray.html#a5">MultiArray&lt;E&gt;::Increment</a>(vector&lt;int&gt; &amp;indices)<font class="keyword"> </font>{
00076   <font class="keywordtype">int</font> i;
00077   <font class="keywordtype">bool</font> carry,done;
00078 
00079   carry = <font class="keyword">false</font>;
00080   done = <font class="keyword">false</font>;
00081 
00082   <font class="keywordflow">if</font> (indices[0] &lt; Dimensions[0] - 1)
00083     indices[0]++;
00084   <font class="keywordflow">else</font> { <font class="comment">// Carry</font>
00085     indices[0] = 0;
00086     carry = <font class="keyword">true</font>;
00087     i = 1;
00088     <font class="keywordflow">while</font> ((carry)&amp;&amp;(i &lt; Dimension)) {
00089       <font class="keywordflow">if</font> (indices[i] &lt; Dimensions[i] - 1) {
00090         indices[i]++;
00091         carry = <font class="keyword">false</font>;
00092       }
00093       <font class="keywordflow">else</font> {
00094         indices[i] = 0;
00095         <font class="keywordflow">if</font> (i == Dimension - 1)
00096           done = <font class="keyword">true</font>;
00097       }
00098       i++;
00099     }
00100   }
00101 
00102   <font class="comment">// This will report true if the end of array was reached</font>
00103   <font class="keywordflow">return</font> done;
00104 }
00105 
00106 
00107 
00108 
00109 
</div></pre><HEAD>
<TITLE>Motion Strategy Library</TITLE>
</HEAD>

<p>

<hr>

Web page maintained by 
<a href="http://janowiec.cs.iastate.edu/~lavalle">Steve LaValle</a><br>

Partial support provided by NSF CAREER Award IRI-970228 (LaValle),
Honda Research, and Iowa State University.<br>

Contributors:  Anna Atramentov, Peng Cheng, James Kuffner, Steve LaValle, and Libo Yang.<br>
